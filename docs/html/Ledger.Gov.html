<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Gov</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Background">\section{Governance}

</a><a id="23" class="Markup">\begin{code}[hide]</a>
<a id="42" class="Symbol">{-#</a> <a id="46" class="Keyword">OPTIONS</a> <a id="54" class="Pragma">--safe</a> <a id="61" class="Symbol">#-}</a>

<a id="66" class="Keyword">open</a> <a id="71" class="Keyword">import</a> <a id="78" href="Data.List.Membership.Propositional.Properties.html" class="Module">Data.List.Membership.Propositional.Properties</a>
<a id="124" class="Keyword">open</a> <a id="129" class="Keyword">import</a> <a id="136" href="Data.List.Relation.Unary.Any.html" class="Module">Data.List.Relation.Unary.Any</a>
  <a id="167" class="Keyword">hiding</a> <a id="174" class="Symbol">(</a><a id="175" href="Data.List.Relation.Unary.Any.html#1626" class="Function">map</a><a id="178" class="Symbol">)</a>
  <a id="182" class="Keyword">renaming</a> <a id="191" class="Symbol">(</a><a id="192" href="Data.List.Relation.Unary.Any.html#1139" class="Datatype">Any</a> <a id="196" class="Symbol">to</a> <a id="199" class="Datatype">Anyˡ</a><a id="203" class="Symbol">;</a> <a id="205" href="Data.List.Relation.Unary.Any.html#2651" class="Function">any?</a> <a id="210" class="Symbol">to</a> <a id="213" class="Function">decAny</a><a id="219" class="Symbol">)</a>
<a id="221" class="Keyword">open</a> <a id="226" class="Keyword">import</a> <a id="233" href="Function.Related.html" class="Module">Function.Related</a> <a id="250" class="Keyword">using</a> <a id="256" class="Symbol">(</a><a id="257" href="Function.Related.html#3746" class="Function">fromRelated</a><a id="268" class="Symbol">)</a>
<a id="270" class="Keyword">open</a> <a id="275" class="Keyword">import</a> <a id="282" href="Function.Related.Propositional.html" class="Module">Function.Related.Propositional</a> <a id="313" class="Keyword">using</a> <a id="319" class="Symbol">(</a><a id="320" href="Function.Related.Propositional.html#2180" class="Function">⤖⇒</a><a id="322" class="Symbol">)</a>
<a id="324" class="Keyword">open</a> <a id="329" class="Keyword">import</a> <a id="336" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="363" class="Keyword">renaming</a> <a id="372" class="Symbol">(</a><a id="373" href="Relation.Nullary.Decidable.html#1236" class="Function">map</a> <a id="377" class="Symbol">to</a> <a id="380" class="Function">mapᵈ</a><a id="384" class="Symbol">)</a>

<a id="387" class="Keyword">open</a> <a id="392" class="Keyword">import</a> <a id="399" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="414" class="Keyword">renaming</a> <a id="423" class="Symbol">(</a><a id="424" href="Relation.Nullary.Decidable.Core.html#1613" class="InductiveConstructor">yes</a> <a id="428" class="Symbol">to</a> <a id="431" class="InductiveConstructor">yesᵈ</a><a id="435" class="Symbol">;</a> <a id="437" href="Relation.Nullary.Decidable.Core.html#1650" class="InductiveConstructor">no</a> <a id="440" class="Symbol">to</a> <a id="443" class="InductiveConstructor">noᵈ</a><a id="446" class="Symbol">)</a>
<a id="448" class="Keyword">open</a> <a id="453" class="Keyword">import</a> <a id="460" href="Ledger.Crypto.html" class="Module">Ledger.Crypto</a>
<a id="474" class="Keyword">open</a> <a id="479" class="Keyword">import</a> <a id="486" href="Ledger.GovStructure.html" class="Module">Ledger.GovStructure</a>

<a id="507" class="Keyword">module</a> <a id="514" href="Ledger.Gov.html" class="Module">Ledger.Gov</a> <a id="525" class="Symbol">(</a><a id="526" href="Ledger.Gov.html#526" class="Bound">gs</a> <a id="529" class="Symbol">:</a> <a id="531" class="Symbol">_)</a> <a id="534" class="Symbol">(</a><a id="535" class="Keyword">open</a> <a id="540" href="Ledger.GovStructure.html#194" class="Module">GovStructure</a> <a id="553" href="Ledger.Gov.html#526" class="Bound">gs</a> <a id="556" class="Keyword">hiding</a> <a id="563" class="Symbol">(</a><a id="564" href="Ledger.Epoch.html#477" class="Function">epoch</a><a id="569" class="Symbol">))</a> <a id="572" class="Keyword">where</a>

<a id="579" class="Keyword">open</a> <a id="584" class="Keyword">import</a> <a id="591" href="Ledger.GovernanceActions.html" class="Module">Ledger.GovernanceActions</a> <a id="616" href="Ledger.Gov.html#526" class="Bound">gs</a>
<a id="619" class="Markup">\end{code}</a><a id="629" class="Background">
\begin{figure*}[h]
\emph{Derived types}
</a><a id="670" class="Markup">\begin{code}</a>
<a id="683" class="Keyword">record</a> <a id="GovActionState"></a><a id="690" href="Ledger.Gov.html#690" class="Record">GovActionState</a> <a id="705" class="Symbol">:</a> <a id="707" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="711" class="Keyword">where</a>
  <a id="719" class="Keyword">field</a> <a id="GovActionState.votes"></a><a id="725" href="Ledger.Gov.html#725" class="Field">votes</a>       <a id="737" class="Symbol">:</a> <a id="739" class="Symbol">(</a><a id="740" href="Ledger.GovernanceActions.html#1046" class="Datatype">GovRole</a> <a id="748" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="750" href="Ledger.Address.html#713" class="Function">Credential</a><a id="760" class="Symbol">)</a> <a id="762" href="Ledger.Set.Theory.html#1522" class="Function Operator">⇀</a> <a id="764" href="Ledger.GovernanceActions.html#8479" class="Datatype">Vote</a>
        <a id="GovActionState.returnAddr"></a><a id="777" href="Ledger.Gov.html#777" class="Field">returnAddr</a>  <a id="789" class="Symbol">:</a> <a id="791" href="Ledger.Address.html#1216" class="Record">RwdAddr</a>
        <a id="GovActionState.expiresIn"></a><a id="807" href="Ledger.Gov.html#807" class="Field">expiresIn</a>   <a id="819" class="Symbol">:</a> <a id="821" href="Ledger.Epoch.html#295" class="Function">Epoch</a>
        <a id="GovActionState.action"></a><a id="835" href="Ledger.Gov.html#835" class="Field">action</a>      <a id="847" class="Symbol">:</a> <a id="849" href="Ledger.GovernanceActions.html#1353" class="Datatype">GovAction</a>
        <a id="GovActionState.prevAction"></a><a id="867" href="Ledger.Gov.html#867" class="Field">prevAction</a>  <a id="879" class="Symbol">:</a> <a id="881" href="Ledger.GovernanceActions.html#7149" class="Function">NeedsHash</a> <a id="891" href="Ledger.Gov.html#835" class="Field">action</a>

<a id="GovState"></a><a id="899" href="Ledger.Gov.html#899" class="Function">GovState</a> <a id="908" class="Symbol">:</a> <a id="910" href="Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="914" href="Ledger.Gov.html#899" class="Function">GovState</a> <a id="923" class="Symbol">=</a> <a id="925" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="930" class="Symbol">(</a><a id="931" href="Ledger.GovernanceActions.html#999" class="Function">GovActionID</a> <a id="943" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="945" href="Ledger.Gov.html#690" class="Record">GovActionState</a><a id="959" class="Symbol">)</a>

<a id="962" class="Keyword">record</a> <a id="GovEnv"></a><a id="969" href="Ledger.Gov.html#969" class="Record">GovEnv</a> <a id="976" class="Symbol">:</a> <a id="978" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="982" class="Keyword">where</a>
  <a id="990" class="Keyword">constructor</a> <a id="⟦_,_,_⟧ᵗ"></a><a id="1002" href="Ledger.Gov.html#1002" class="InductiveConstructor Operator">⟦_,_,_⟧ᵗ</a>
  <a id="1013" class="Keyword">field</a> <a id="GovEnv.txid"></a><a id="1019" href="Ledger.Gov.html#1019" class="Field">txid</a>     <a id="1028" class="Symbol">:</a> <a id="1030" href="Ledger.GovStructure.html#228" class="Field">TxId</a>
        <a id="GovEnv.epoch"></a><a id="1043" href="Ledger.Gov.html#1043" class="Field">epoch</a>    <a id="1052" class="Symbol">:</a> <a id="1054" href="Ledger.Epoch.html#295" class="Function">Epoch</a>
        <a id="GovEnv.pparams"></a><a id="1068" href="Ledger.Gov.html#1068" class="Field">pparams</a>  <a id="1077" class="Symbol">:</a> <a id="1079" href="Ledger.PParams.html#1143" class="Record">PParams</a>
<a id="1087" class="Markup">\end{code}</a><a id="1097" class="Background">
\emph{Transition relation types}
</a><a id="1131" class="Markup">\begin{code}[hide]</a>
<a id="1150" class="Keyword">data</a>
<a id="1155" class="Markup">\end{code}</a><a id="1165" class="Background">
</a><a id="1166" class="Markup">\begin{code}</a>
  <a id="_⊢_⇀⦇_,GOV&#39;⦈_"></a><a id="1181" href="Ledger.Gov.html#1181" class="Datatype Operator">_⊢_⇀⦇_,GOV&#39;⦈_</a> <a id="1195" class="Symbol">:</a> <a id="1197" href="Ledger.Gov.html#969" class="Record">GovEnv</a> <a id="1204" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="1206" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="1208" class="Symbol">→</a> <a id="1210" href="Ledger.Gov.html#899" class="Function">GovState</a> <a id="1219" class="Symbol">→</a> <a id="1221" href="Ledger.GovernanceActions.html#8529" class="Record">GovVote</a> <a id="1229" href="Data.Sum.Base.html#616" class="Datatype Operator">⊎</a> <a id="1231" href="Ledger.GovernanceActions.html#8716" class="Record">GovProposal</a> <a id="1243" class="Symbol">→</a> <a id="1245" href="Ledger.Gov.html#899" class="Function">GovState</a> <a id="1254" class="Symbol">→</a> <a id="1256" href="Agda.Primitive.html#320" class="Primitive">Set</a>

<a id="_⊢_⇀⦇_,GOV⦈_"></a><a id="1261" href="Ledger.Gov.html#1261" class="Function Operator">_⊢_⇀⦇_,GOV⦈_</a> <a id="1274" class="Symbol">:</a> <a id="1276" href="Ledger.Gov.html#969" class="Record">GovEnv</a> <a id="1283" class="Symbol">→</a> <a id="1285" href="Ledger.Gov.html#899" class="Function">GovState</a> <a id="1294" class="Symbol">→</a> <a id="1296" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1301" class="Symbol">(</a><a id="1302" href="Ledger.GovernanceActions.html#8529" class="Record">GovVote</a> <a id="1310" href="Data.Sum.Base.html#616" class="Datatype Operator">⊎</a> <a id="1312" href="Ledger.GovernanceActions.html#8716" class="Record">GovProposal</a><a id="1323" class="Symbol">)</a> <a id="1325" class="Symbol">→</a> <a id="1327" href="Ledger.Gov.html#899" class="Function">GovState</a> <a id="1336" class="Symbol">→</a> <a id="1338" href="Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="1342" class="Markup">\end{code}</a><a id="1352" class="Background">
</a><a id="1353" class="Markup">\begin{code}[hide]</a>
<a id="1372" class="Keyword">open</a> <a id="1377" href="Ledger.Gov.html#690" class="Module">GovActionState</a>

<a id="1393" class="Keyword">private</a> <a id="1401" class="Keyword">variable</a>
  <a id="1412" href="Ledger.Gov.html#1412" class="Generalizable">Γ</a> <a id="1414" class="Symbol">:</a> <a id="1416" href="Ledger.Gov.html#969" class="Record">GovEnv</a>
  <a id="1425" href="Ledger.Gov.html#1425" class="Generalizable">s</a> <a id="1427" href="Ledger.Gov.html#1427" class="Generalizable">s&#39;</a> <a id="1430" class="Symbol">:</a> <a id="1432" href="Ledger.Gov.html#899" class="Function">GovState</a>
  <a id="1443" href="Ledger.Gov.html#1443" class="Generalizable">aid</a> <a id="1447" class="Symbol">:</a> <a id="1449" href="Ledger.GovernanceActions.html#999" class="Function">GovActionID</a>
  <a id="1463" href="Ledger.Gov.html#1463" class="Generalizable">role</a> <a id="1468" class="Symbol">:</a> <a id="1470" href="Ledger.GovernanceActions.html#1046" class="Datatype">GovRole</a>
  <a id="1480" href="Ledger.Gov.html#1480" class="Generalizable">cred</a> <a id="1485" class="Symbol">:</a> <a id="1487" href="Ledger.Address.html#713" class="Function">Credential</a>
  <a id="1500" href="Ledger.Gov.html#1500" class="Generalizable">v</a> <a id="1502" class="Symbol">:</a> <a id="1504" href="Ledger.GovernanceActions.html#8479" class="Datatype">Vote</a>
  <a id="1511" href="Ledger.Gov.html#1511" class="Generalizable">c</a> <a id="1513" href="Ledger.Gov.html#1513" class="Generalizable">d</a> <a id="1515" class="Symbol">:</a> <a id="1517" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
  <a id="1524" href="Ledger.Gov.html#1524" class="Generalizable">addr</a> <a id="1529" class="Symbol">:</a> <a id="1531" href="Ledger.Address.html#1216" class="Record">RwdAddr</a>
  <a id="1541" href="Ledger.Gov.html#1541" class="Generalizable">a</a> <a id="1543" class="Symbol">:</a> <a id="1545" href="Ledger.GovernanceActions.html#1353" class="Datatype">GovAction</a>
  <a id="1557" href="Ledger.Gov.html#1557" class="Generalizable">prev</a> <a id="1562" class="Symbol">:</a> <a id="1564" href="Ledger.GovernanceActions.html#7149" class="Function">NeedsHash</a> <a id="1574" href="Ledger.Gov.html#1541" class="Generalizable">a</a>
  <a id="1578" href="Ledger.Gov.html#1578" class="Generalizable">k</a> <a id="1580" class="Symbol">:</a> <a id="1582" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>

<a id="1585" class="Comment">-- could be implemented using a function of type:</a>
<a id="1635" class="Comment">--   ∀ {a} {A : Set a} → (A → Maybe A) → List A → List A</a>
<a id="modifyMatch"></a><a id="1692" href="Ledger.Gov.html#1692" class="Function">modifyMatch</a> <a id="1704" class="Symbol">:</a> <a id="1706" class="Symbol">∀</a> <a id="1708" class="Symbol">{</a><a id="1709" href="Ledger.Gov.html#1709" class="Bound">a</a><a id="1710" class="Symbol">}</a> <a id="1712" class="Symbol">{</a><a id="1713" href="Ledger.Gov.html#1713" class="Bound">A</a> <a id="1715" class="Symbol">:</a> <a id="1717" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1721" href="Ledger.Gov.html#1709" class="Bound">a</a><a id="1722" class="Symbol">}</a> <a id="1724" class="Symbol">→</a> <a id="1726" class="Symbol">(</a><a id="1727" href="Ledger.Gov.html#1713" class="Bound">A</a> <a id="1729" class="Symbol">→</a> <a id="1731" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a><a id="1735" class="Symbol">)</a> <a id="1737" class="Symbol">→</a> <a id="1739" class="Symbol">(</a><a id="1740" href="Ledger.Gov.html#1713" class="Bound">A</a> <a id="1742" class="Symbol">→</a> <a id="1744" href="Ledger.Gov.html#1713" class="Bound">A</a><a id="1745" class="Symbol">)</a> <a id="1747" class="Symbol">→</a> <a id="1749" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1754" href="Ledger.Gov.html#1713" class="Bound">A</a> <a id="1756" class="Symbol">→</a> <a id="1758" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1763" href="Ledger.Gov.html#1713" class="Bound">A</a>
<a id="1765" href="Ledger.Gov.html#1692" class="Function">modifyMatch</a> <a id="1777" href="Ledger.Gov.html#1777" class="Bound">P</a> <a id="1779" href="Ledger.Gov.html#1779" class="Bound">f</a> <a id="1781" class="Symbol">=</a> <a id="1783" href="Interface.Functor.html#448" class="Function">map</a> <a id="1787" class="Symbol">(λ</a> <a id="1790" href="Ledger.Gov.html#1790" class="Bound">x</a> <a id="1792" class="Symbol">→</a> <a id="1794" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="1797" href="Ledger.Gov.html#1777" class="Bound">P</a> <a id="1799" href="Ledger.Gov.html#1790" class="Bound">x</a> <a id="1801" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="1806" href="Ledger.Gov.html#1779" class="Bound">f</a> <a id="1808" href="Ledger.Gov.html#1790" class="Bound">x</a> <a id="1810" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="1815" href="Ledger.Gov.html#1790" class="Bound">x</a><a id="1816" class="Symbol">)</a>
<a id="1818" class="Markup">\end{code}</a><a id="1828" class="Background">
\emph{Functions used in the GOV rules}
</a><a id="1868" class="Markup">\begin{code}</a>
<a id="addVote"></a><a id="1881" href="Ledger.Gov.html#1881" class="Function">addVote</a> <a id="1889" class="Symbol">:</a> <a id="1891" href="Ledger.Gov.html#899" class="Function">GovState</a> <a id="1900" class="Symbol">→</a> <a id="1902" href="Ledger.GovernanceActions.html#999" class="Function">GovActionID</a> <a id="1914" class="Symbol">→</a> <a id="1916" href="Ledger.GovernanceActions.html#1046" class="Datatype">GovRole</a> <a id="1924" class="Symbol">→</a> <a id="1926" href="Ledger.Address.html#713" class="Function">Credential</a> <a id="1937" class="Symbol">→</a> <a id="1939" href="Ledger.GovernanceActions.html#8479" class="Datatype">Vote</a> <a id="1944" class="Symbol">→</a> <a id="1946" href="Ledger.Gov.html#899" class="Function">GovState</a>
<a id="1955" href="Ledger.Gov.html#1881" class="Function">addVote</a> <a id="1963" href="Ledger.Gov.html#1963" class="Bound">s</a> <a id="1965" href="Ledger.Gov.html#1965" class="Bound">aid</a> <a id="1969" href="Ledger.Gov.html#1969" class="Bound">r</a> <a id="1971" href="Ledger.Gov.html#1971" class="Bound">kh</a> <a id="1974" href="Ledger.Gov.html#1974" class="Bound">v</a> <a id="1976" class="Symbol">=</a>
  <a id="1980" href="Ledger.Gov.html#1692" class="Function">modifyMatch</a>
    <a id="1996" class="Symbol">(λ</a> <a id="1999" class="Symbol">(</a><a id="2000" href="Ledger.Gov.html#2000" class="Bound">x</a> <a id="2002" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2004" class="Symbol">_)</a> <a id="2007" class="Symbol">→</a> <a id="2009" href="Ledger.Gov.html#1965" class="Bound">aid</a> <a id="2013" href="Interface.DecEq.Ext.html#660" class="Function Operator">≡ᵇ</a> <a id="2016" href="Ledger.Gov.html#2000" class="Bound">x</a><a id="2017" class="Symbol">)</a>
    <a id="2023" class="Symbol">(λ</a> <a id="2026" class="Symbol">(</a><a id="2027" href="Ledger.Gov.html#2027" class="Bound">gid</a> <a id="2031" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2033" href="Ledger.Gov.html#2033" class="Bound">s&#39;</a><a id="2035" class="Symbol">)</a> <a id="2037" class="Symbol">→</a> <a id="2039" href="Ledger.Gov.html#2027" class="Bound">gid</a> <a id="2043" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2045" class="Keyword">record</a> <a id="2052" href="Ledger.Gov.html#2033" class="Bound">s&#39;</a> <a id="2055" class="Symbol">{</a> <a id="2057" href="Ledger.Gov.html#725" class="Field">votes</a> <a id="2063" class="Symbol">=</a> <a id="2065" href="Axiom.Set.Map.html#5337" class="Function">insert</a> <a id="2072" class="Symbol">(</a><a id="2073" href="Ledger.Gov.html#725" class="Field">votes</a> <a id="2079" href="Ledger.Gov.html#2033" class="Bound">s&#39;</a><a id="2081" class="Symbol">)</a> <a id="2083" class="Symbol">(</a><a id="2084" href="Ledger.Gov.html#1969" class="Bound">r</a> <a id="2086" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2088" href="Ledger.Gov.html#1971" class="Bound">kh</a><a id="2090" class="Symbol">)</a> <a id="2092" href="Ledger.Gov.html#1974" class="Bound">v</a> <a id="2094" class="Symbol">})</a> <a id="2097" href="Ledger.Gov.html#1963" class="Bound">s</a>

<a id="addAction"></a><a id="2100" href="Ledger.Gov.html#2100" class="Function">addAction</a> <a id="2110" class="Symbol">:</a> <a id="2112" href="Ledger.Gov.html#899" class="Function">GovState</a>
          <a id="2131" class="Symbol">→</a> <a id="2133" href="Ledger.Epoch.html#295" class="Function">Epoch</a> <a id="2139" class="Symbol">→</a> <a id="2141" href="Ledger.GovernanceActions.html#999" class="Function">GovActionID</a> <a id="2153" class="Symbol">→</a> <a id="2155" href="Ledger.Address.html#1216" class="Record">RwdAddr</a> <a id="2163" class="Symbol">→</a> <a id="2165" class="Symbol">(</a><a id="2166" href="Ledger.Gov.html#2166" class="Bound">a</a> <a id="2168" class="Symbol">:</a> <a id="2170" href="Ledger.GovernanceActions.html#1353" class="Datatype">GovAction</a><a id="2179" class="Symbol">)</a> <a id="2181" class="Symbol">→</a> <a id="2183" href="Ledger.GovernanceActions.html#7149" class="Function">NeedsHash</a> <a id="2193" href="Ledger.Gov.html#2166" class="Bound">a</a>
          <a id="2205" class="Symbol">→</a> <a id="2207" href="Ledger.Gov.html#899" class="Function">GovState</a>
<a id="2216" href="Ledger.Gov.html#2100" class="Function">addAction</a> <a id="2226" href="Ledger.Gov.html#2226" class="Bound">s</a> <a id="2228" href="Ledger.Gov.html#2228" class="Bound">e</a> <a id="2230" href="Ledger.Gov.html#2230" class="Bound">aid</a> <a id="2234" href="Ledger.Gov.html#2234" class="Bound">addr</a> <a id="2239" href="Ledger.Gov.html#2239" class="Bound">a</a> <a id="2241" href="Ledger.Gov.html#2241" class="Bound">prev</a> <a id="2246" class="Symbol">=</a> <a id="2248" href="Ledger.Gov.html#2226" class="Bound">s</a> <a id="2250" href="Data.List.Base.html#7213" class="Function Operator">∷ʳ</a> <a id="2253" class="Symbol">(</a><a id="2254" href="Ledger.Gov.html#2230" class="Bound">aid</a> <a id="2258" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2260" class="Keyword">record</a>
  <a id="2269" class="Symbol">{</a> <a id="2271" href="Ledger.Gov.html#725" class="Field">votes</a> <a id="2277" class="Symbol">=</a> <a id="2279" href="Axiom.Set.Map.html#2784" class="Function">∅ᵐ</a> <a id="2282" class="Symbol">;</a> <a id="2284" href="Ledger.Gov.html#777" class="Field">returnAddr</a> <a id="2295" class="Symbol">=</a> <a id="2297" href="Ledger.Gov.html#2234" class="Bound">addr</a> <a id="2302" class="Symbol">;</a> <a id="2304" href="Ledger.Gov.html#807" class="Field">expiresIn</a> <a id="2314" class="Symbol">=</a> <a id="2316" href="Ledger.Gov.html#2228" class="Bound">e</a> <a id="2318" class="Symbol">;</a> <a id="2320" href="Ledger.Gov.html#835" class="Field">action</a> <a id="2327" class="Symbol">=</a> <a id="2329" href="Ledger.Gov.html#2239" class="Bound">a</a> <a id="2331" class="Symbol">;</a> <a id="2333" href="Ledger.Gov.html#867" class="Field">prevAction</a> <a id="2344" class="Symbol">=</a> <a id="2346" href="Ledger.Gov.html#2241" class="Bound">prev</a> <a id="2351" class="Symbol">})</a>

<a id="2355" class="Markup">\end{code}</a><a id="2365" class="Background">
\caption{Types and functions used in the GOV transition system}
\label{defs:gov-defs}
\end{figure*}
\begin{figure*}
</a><a id="2482" class="Markup">\begin{code}[hide]</a>
<a id="2501" class="Keyword">data</a> <a id="2506" href="Ledger.Gov.html#1181" class="Datatype Operator">_⊢_⇀⦇_,GOV&#39;⦈_</a> <a id="2520" class="Keyword">where</a>
<a id="2526" class="Markup">\end{code}</a><a id="2536" class="Background">
</a><a id="2537" class="Markup">\begin{code}</a>
  <a id="_⊢_⇀⦇_,GOV&#39;⦈_.GOV-Vote"></a><a id="2552" href="Ledger.Gov.html#2552" class="InductiveConstructor">GOV-Vote</a> <a id="2561" class="Symbol">:</a> <a id="2563" class="Symbol">∀</a> <a id="2565" class="Symbol">{</a><a id="2566" href="Ledger.Gov.html#2566" class="Bound">x</a> <a id="2568" href="Ledger.Gov.html#2568" class="Bound">ast</a><a id="2571" class="Symbol">}</a> <a id="2573" class="Symbol">→</a> <a id="2575" class="Keyword">let</a> <a id="2579" class="Keyword">open</a> <a id="2584" href="Ledger.Gov.html#969" class="Module">GovEnv</a> <a id="2591" href="Ledger.Gov.html#1412" class="Generalizable">Γ</a> <a id="2593" class="Keyword">in</a>
    <a id="2600" class="Symbol">(</a><a id="2601" href="Ledger.Gov.html#1443" class="Generalizable">aid</a> <a id="2605" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2607" href="Ledger.Gov.html#2568" class="Bound">ast</a><a id="2610" class="Symbol">)</a> <a id="2612" href="Interface.IsSet.html#493" class="Function Operator">∈</a> <a id="2614" href="Axiom.Set.html#5489" class="Function">fromList</a> <a id="2623" href="Ledger.Gov.html#1425" class="Generalizable">s</a>
    <a id="2629" class="Symbol">→</a> <a id="2631" href="Ledger.GovernanceActions.html#6491" class="Function">canVote</a> <a id="2639" href="Ledger.Gov.html#1068" class="Function">pparams</a> <a id="2647" class="Symbol">(</a><a id="2648" href="Ledger.Gov.html#835" class="Field">action</a> <a id="2655" href="Ledger.Gov.html#2568" class="Bound">ast</a><a id="2658" class="Symbol">)</a> <a id="2660" href="Ledger.Gov.html#1463" class="Generalizable">role</a>
    <a id="2669" href="Interface.STS.html#244" class="Function Operator">────────────────────────────────</a>
    <a id="2706" class="Keyword">let</a> <a id="2710" href="Ledger.Gov.html#2710" class="Bound">sig</a> <a id="2714" class="Symbol">=</a> <a id="2716" href="Data.Sum.Base.html#666" class="InductiveConstructor">inj₁</a> <a id="2721" class="Keyword">record</a> <a id="2728" class="Symbol">{</a> <a id="2730" href="Ledger.GovernanceActions.html#8557" class="Field">gid</a> <a id="2734" class="Symbol">=</a> <a id="2736" href="Ledger.Gov.html#1443" class="Generalizable">aid</a> <a id="2740" class="Symbol">;</a> <a id="2742" href="Ledger.GovernanceActions.html#8591" class="Field">role</a> <a id="2747" class="Symbol">=</a> <a id="2749" href="Ledger.Gov.html#1463" class="Generalizable">role</a> <a id="2754" class="Symbol">;</a> <a id="2756" href="Ledger.GovernanceActions.html#8621" class="Field">credential</a> <a id="2767" class="Symbol">=</a> <a id="2769" href="Ledger.Gov.html#1480" class="Generalizable">cred</a>
                          <a id="2800" class="Symbol">;</a> <a id="2802" href="Ledger.GovernanceActions.html#8654" class="Field">vote</a> <a id="2807" class="Symbol">=</a> <a id="2809" href="Ledger.Gov.html#1500" class="Generalizable">v</a> <a id="2811" class="Symbol">;</a> <a id="2813" href="Ledger.GovernanceActions.html#8681" class="Field">anchor</a> <a id="2820" class="Symbol">=</a> <a id="2822" href="Ledger.Gov.html#2566" class="Bound">x</a> <a id="2824" class="Symbol">}</a>
    <a id="2830" class="Keyword">in</a> <a id="2833" class="Symbol">(</a><a id="2834" href="Ledger.Gov.html#1412" class="Generalizable">Γ</a> <a id="2836" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2838" href="Ledger.Gov.html#1578" class="Generalizable">k</a><a id="2839" class="Symbol">)</a> <a id="2841" href="Ledger.Gov.html#1181" class="Datatype Operator">⊢</a> <a id="2843" href="Ledger.Gov.html#1425" class="Generalizable">s</a> <a id="2845" href="Ledger.Gov.html#1181" class="Datatype Operator">⇀⦇</a> <a id="2848" href="Ledger.Gov.html#2710" class="Bound">sig</a> <a id="2852" href="Ledger.Gov.html#1181" class="Datatype Operator">,GOV&#39;⦈</a> <a id="2859" href="Ledger.Gov.html#1881" class="Function">addVote</a> <a id="2867" href="Ledger.Gov.html#1425" class="Generalizable">s</a> <a id="2869" href="Ledger.Gov.html#1443" class="Generalizable">aid</a> <a id="2873" href="Ledger.Gov.html#1463" class="Generalizable">role</a> <a id="2878" href="Ledger.Gov.html#1480" class="Generalizable">cred</a> <a id="2883" href="Ledger.Gov.html#1500" class="Generalizable">v</a>

  <a id="_⊢_⇀⦇_,GOV&#39;⦈_.GOV-Propose"></a><a id="2888" href="Ledger.Gov.html#2888" class="InductiveConstructor">GOV-Propose</a> <a id="2900" class="Symbol">:</a> <a id="2902" class="Symbol">∀</a> <a id="2904" class="Symbol">{</a><a id="2905" href="Ledger.Gov.html#2905" class="Bound">x</a><a id="2906" class="Symbol">}</a> <a id="2908" class="Symbol">→</a> <a id="2910" class="Keyword">let</a> <a id="2914" class="Keyword">open</a> <a id="2919" href="Ledger.Gov.html#969" class="Module">GovEnv</a> <a id="2926" href="Ledger.Gov.html#1412" class="Generalizable">Γ</a><a id="2927" class="Symbol">;</a> <a id="2929" class="Keyword">open</a> <a id="2934" href="Ledger.PParams.html#1143" class="Module">PParams</a> <a id="2942" href="Ledger.Gov.html#1068" class="Function">pparams</a> <a id="2950" class="Keyword">hiding</a> <a id="2957" class="Symbol">(</a><a id="2958" href="Ledger.PParams.html#1569" class="Field">a</a><a id="2959" class="Symbol">)</a> <a id="2961" class="Keyword">in</a>
    <a id="2968" href="Ledger.GovernanceActions.html#1887" class="Function">actionWellFormed</a> <a id="2985" href="Ledger.Gov.html#1541" class="Generalizable">a</a> <a id="2987" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="2989" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>
    <a id="2998" class="Symbol">→</a> <a id="3000" href="Ledger.Gov.html#1513" class="Generalizable">d</a> <a id="3002" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3004" href="Ledger.PParams.html#2164" class="Function">govActionDeposit</a>
    <a id="3025" class="Symbol">→</a>  <a id="3028" class="Symbol">(∀</a> <a id="3031" class="Symbol">{</a><a id="3032" href="Ledger.Gov.html#3032" class="Bound">new</a> <a id="3036" href="Ledger.Gov.html#3036" class="Bound">rem</a> <a id="3040" href="Ledger.Gov.html#3040" class="Bound">q</a><a id="3041" class="Symbol">}</a> <a id="3043" class="Symbol">→</a> <a id="3045" href="Ledger.Gov.html#1541" class="Generalizable">a</a> <a id="3047" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3049" href="Ledger.GovernanceActions.html#1450" class="InductiveConstructor">NewCommittee</a> <a id="3062" href="Ledger.Gov.html#3032" class="Bound">new</a> <a id="3066" href="Ledger.Gov.html#3036" class="Bound">rem</a> <a id="3070" href="Ledger.Gov.html#3040" class="Bound">q</a>
       <a id="3079" class="Symbol">→</a> <a id="3081" href="Interface.IsSet.html#611" class="Function">∀[</a> <a id="3084" href="Ledger.Gov.html#3084" class="Bound">e</a> <a id="3086" href="Interface.IsSet.html#611" class="Function">∈</a> <a id="3088" href="Interface.IsSet.html#837" class="Function">range</a> <a id="3094" href="Ledger.Gov.html#3032" class="Bound">new</a> <a id="3098" href="Interface.IsSet.html#611" class="Function">]</a> <a id="3100" href="Ledger.Gov.html#1043" class="Function">epoch</a> <a id="3106" href="Interface.HasOrder.html#297" class="Field Operator">&lt;</a> <a id="3108" href="Ledger.Gov.html#3084" class="Bound">e</a> <a id="3110" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="3112" href="Interface.IsSet.html#794" class="Function">dom</a> <a id="3116" href="Ledger.Gov.html#3032" class="Bound">new</a> <a id="3120" href="Axiom.Set.html#9060" class="Function Operator">∩</a> <a id="3122" href="Ledger.Gov.html#3036" class="Bound">rem</a> <a id="3126" href="Axiom.Set.html#2471" class="Function Operator">≡ᵉ</a> <a id="3129" href="Axiom.Set.html#5746" class="Function">∅</a><a id="3130" class="Symbol">)</a>
    <a id="3136" href="Interface.STS.html#244" class="Function Operator">────────────────────────────────</a>
    <a id="3173" class="Keyword">let</a> <a id="3177" href="Ledger.Gov.html#3177" class="Bound">sig</a> <a id="3181" class="Symbol">=</a> <a id="3183" href="Data.Sum.Base.html#691" class="InductiveConstructor">inj₂</a> <a id="3188" class="Keyword">record</a> <a id="3195" class="Symbol">{</a> <a id="3197" href="Ledger.GovernanceActions.html#8748" class="Field">returnAddr</a> <a id="3208" class="Symbol">=</a> <a id="3210" href="Ledger.Gov.html#1524" class="Generalizable">addr</a> <a id="3215" class="Symbol">;</a> <a id="3217" href="Ledger.GovernanceActions.html#8778" class="Field">action</a> <a id="3224" class="Symbol">=</a> <a id="3226" href="Ledger.Gov.html#1541" class="Generalizable">a</a> <a id="3228" class="Symbol">;</a> <a id="3230" href="Ledger.GovernanceActions.html#8876" class="Field">anchor</a> <a id="3237" class="Symbol">=</a> <a id="3239" href="Ledger.Gov.html#2905" class="Bound">x</a>
                          <a id="3267" class="Symbol">;</a> <a id="3269" href="Ledger.GovernanceActions.html#8849" class="Field">deposit</a> <a id="3277" class="Symbol">=</a> <a id="3279" href="Ledger.Gov.html#1513" class="Generalizable">d</a> <a id="3281" class="Symbol">;</a> <a id="3283" href="Ledger.GovernanceActions.html#8810" class="Field">prevAction</a> <a id="3294" class="Symbol">=</a> <a id="3296" href="Ledger.Gov.html#1557" class="Generalizable">prev</a> <a id="3301" class="Symbol">}</a>
        <a id="3311" href="Ledger.Gov.html#3311" class="Bound">s&#39;</a>  <a id="3315" class="Symbol">=</a> <a id="3317" href="Ledger.Gov.html#2100" class="Function">addAction</a> <a id="3327" href="Ledger.Gov.html#1425" class="Generalizable">s</a> <a id="3329" class="Symbol">(</a><a id="3330" href="Ledger.PParams.html#2133" class="Function">govActionLifetime</a> <a id="3348" href="Ledger.Epoch.html#1303" class="Function Operator">+ᵉ</a> <a id="3351" href="Ledger.Gov.html#1043" class="Function">epoch</a><a id="3356" class="Symbol">)</a> <a id="3358" class="Symbol">(</a><a id="3359" href="Ledger.Gov.html#1019" class="Function">txid</a> <a id="3364" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3366" href="Ledger.Gov.html#1578" class="Generalizable">k</a><a id="3367" class="Symbol">)</a> <a id="3369" href="Ledger.Gov.html#1524" class="Generalizable">addr</a> <a id="3374" href="Ledger.Gov.html#1541" class="Generalizable">a</a> <a id="3376" href="Ledger.Gov.html#1557" class="Generalizable">prev</a>
    <a id="3385" class="Keyword">in</a>
    <a id="3392" class="Symbol">(</a><a id="3393" href="Ledger.Gov.html#1412" class="Generalizable">Γ</a> <a id="3395" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3397" href="Ledger.Gov.html#1578" class="Generalizable">k</a><a id="3398" class="Symbol">)</a> <a id="3400" href="Ledger.Gov.html#1181" class="Datatype Operator">⊢</a> <a id="3402" href="Ledger.Gov.html#1425" class="Generalizable">s</a> <a id="3404" href="Ledger.Gov.html#1181" class="Datatype Operator">⇀⦇</a> <a id="3407" href="Ledger.Gov.html#3177" class="Bound">sig</a> <a id="3411" href="Ledger.Gov.html#1181" class="Datatype Operator">,GOV&#39;⦈</a> <a id="3418" href="Ledger.Gov.html#3311" class="Bound">s&#39;</a>

<a id="3422" href="Ledger.Gov.html#1261" class="Function Operator">_⊢_⇀⦇_,GOV⦈_</a> <a id="3435" class="Symbol">=</a> <a id="3437" href="Interface.STS.html#2100" class="Function">SS⇒BSᵢ</a> <a id="3444" href="Ledger.Gov.html#1181" class="Datatype Operator">_⊢_⇀⦇_,GOV&#39;⦈_</a>
<a id="3458" class="Markup">\end{code}</a><a id="3468" class="Background">
\caption{Rules for the GOV transition system}
\label{defs:gov-rules}
\end{figure*}

</a><a id="3553" class="Markup">\begin{code}[hide]</a>
<a id="3572" class="Keyword">open</a> <a id="3577" href="Interface.ComputationalRelation.html#627" class="Module">Computational</a> <a id="3591" class="Symbol">⦃...⦄</a>

<a id="3598" class="Keyword">private</a>
  <a id="3608" class="Keyword">open</a> <a id="3613" href="Function.Bundles.html#4340" class="Module">Equivalence</a>

  <a id="lookupActionId"></a><a id="3628" href="Ledger.Gov.html#3628" class="Function">lookupActionId</a> <a id="3643" class="Symbol">:</a> <a id="3645" class="Symbol">(</a><a id="3646" href="Ledger.Gov.html#3646" class="Bound">pparams</a> <a id="3654" class="Symbol">:</a> <a id="3656" href="Ledger.PParams.html#1143" class="Record">PParams</a><a id="3663" class="Symbol">)</a> <a id="3665" class="Symbol">(</a><a id="3666" href="Ledger.Gov.html#3666" class="Bound">role</a> <a id="3671" class="Symbol">:</a> <a id="3673" href="Ledger.GovernanceActions.html#1046" class="Datatype">GovRole</a><a id="3680" class="Symbol">)</a> <a id="3682" class="Symbol">(</a><a id="3683" href="Ledger.Gov.html#3683" class="Bound">aid</a> <a id="3687" class="Symbol">:</a> <a id="3689" href="Ledger.GovernanceActions.html#999" class="Function">GovActionID</a><a id="3700" class="Symbol">)</a> <a id="3702" class="Symbol">(</a><a id="3703" href="Ledger.Gov.html#3703" class="Bound">s</a> <a id="3705" class="Symbol">:</a> <a id="3707" href="Ledger.Gov.html#899" class="Function">GovState</a><a id="3715" class="Symbol">)</a> <a id="3717" class="Symbol">→</a>
                   <a id="3738" href="Relation.Nullary.Decidable.Core.html#1476" class="Record">Dec</a> <a id="3742" class="Symbol">(</a><a id="3743" href="Ledger.Gov.html#199" class="Datatype">Anyˡ</a> <a id="3748" class="Symbol">(λ</a> <a id="3751" class="Symbol">(</a><a id="3752" href="Ledger.Gov.html#3752" class="Bound">aid&#39;</a> <a id="3757" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3759" href="Ledger.Gov.html#3759" class="Bound">ast</a><a id="3762" class="Symbol">)</a> <a id="3764" class="Symbol">→</a> <a id="3766" href="Ledger.Gov.html#3683" class="Bound">aid</a> <a id="3770" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3772" href="Ledger.Gov.html#3752" class="Bound">aid&#39;</a> <a id="3777" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="3779" href="Ledger.GovernanceActions.html#6491" class="Function">canVote</a> <a id="3787" href="Ledger.Gov.html#3646" class="Bound">pparams</a> <a id="3795" class="Symbol">(</a><a id="3796" href="Ledger.Gov.html#835" class="Field">action</a> <a id="3803" href="Ledger.Gov.html#3759" class="Bound">ast</a><a id="3806" class="Symbol">)</a> <a id="3808" href="Ledger.Gov.html#3666" class="Bound">role</a><a id="3812" class="Symbol">)</a> <a id="3814" href="Ledger.Gov.html#3703" class="Bound">s</a><a id="3815" class="Symbol">)</a>
  <a id="3819" href="Ledger.Gov.html#3628" class="Function">lookupActionId</a> <a id="3834" href="Ledger.Gov.html#3834" class="Bound">pparams</a> <a id="3842" href="Ledger.Gov.html#3842" class="Bound">role</a> <a id="3847" href="Ledger.Gov.html#3847" class="Bound">aid</a> <a id="3851" class="Symbol">=</a> <a id="3853" href="Ledger.Gov.html#213" class="Function">decAny</a> <a id="3860" class="Symbol">λ</a> <a id="3862" href="Ledger.Gov.html#3862" class="Bound">_</a> <a id="3864" class="Symbol">→</a> <a id="3866" href="Interface.Decidable.Instance.html#1079" class="Function Operator">¿</a> <a id="3868" class="Symbol">_</a> <a id="3870" href="Interface.Decidable.Instance.html#1079" class="Function Operator">¿</a>

  <a id="isNewCommittee"></a><a id="3875" href="Ledger.Gov.html#3875" class="Function">isNewCommittee</a> <a id="3890" class="Symbol">:</a> <a id="3892" class="Symbol">(</a><a id="3893" href="Ledger.Gov.html#3893" class="Bound">a</a> <a id="3895" class="Symbol">:</a> <a id="3897" href="Ledger.GovernanceActions.html#1353" class="Datatype">GovAction</a><a id="3906" class="Symbol">)</a> <a id="3908" class="Symbol">→</a> <a id="3910" href="Relation.Nullary.Decidable.Core.html#1476" class="Record">Dec</a> <a id="3914" class="Symbol">(</a><a id="3915" href="Data.Product.html#1085" class="Function">∃[</a> <a id="3918" href="Ledger.Gov.html#3918" class="Bound">new</a> <a id="3922" href="Data.Product.html#1085" class="Function">]</a> <a id="3924" href="Data.Product.html#1085" class="Function">∃[</a> <a id="3927" href="Ledger.Gov.html#3927" class="Bound">rem</a> <a id="3931" href="Data.Product.html#1085" class="Function">]</a> <a id="3933" href="Data.Product.html#1085" class="Function">∃[</a> <a id="3936" href="Ledger.Gov.html#3936" class="Bound">q</a> <a id="3938" href="Data.Product.html#1085" class="Function">]</a> <a id="3940" href="Ledger.Gov.html#3893" class="Bound">a</a> <a id="3942" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3944" href="Ledger.GovernanceActions.html#1450" class="InductiveConstructor">NewCommittee</a> <a id="3957" href="Ledger.Gov.html#3918" class="Bound">new</a> <a id="3961" href="Ledger.Gov.html#3927" class="Bound">rem</a> <a id="3965" href="Ledger.Gov.html#3936" class="Bound">q</a><a id="3966" class="Symbol">)</a>
  <a id="3970" href="Ledger.Gov.html#3875" class="Function">isNewCommittee</a> <a id="3985" href="Ledger.GovernanceActions.html#1377" class="InductiveConstructor">NoConfidence</a>             <a id="4010" class="Symbol">=</a> <a id="4012" href="Ledger.Gov.html#443" class="InductiveConstructor">noᵈ</a> <a id="4016" class="Symbol">λ()</a>
  <a id="4022" href="Ledger.Gov.html#3875" class="Function">isNewCommittee</a> <a id="4037" class="Symbol">(</a><a id="4038" href="Ledger.GovernanceActions.html#1450" class="InductiveConstructor">NewCommittee</a> <a id="4051" href="Ledger.Gov.html#4051" class="Bound">new</a> <a id="4055" href="Ledger.Gov.html#4055" class="Bound">rem</a> <a id="4059" href="Ledger.Gov.html#4059" class="Bound">q</a><a id="4060" class="Symbol">)</a> <a id="4062" class="Symbol">=</a> <a id="4064" href="Ledger.Gov.html#431" class="InductiveConstructor">yesᵈ</a> <a id="4069" class="Symbol">(</a><a id="4070" href="Ledger.Gov.html#4051" class="Bound">new</a> <a id="4074" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4076" href="Ledger.Gov.html#4055" class="Bound">rem</a> <a id="4080" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4082" href="Ledger.Gov.html#4059" class="Bound">q</a> <a id="4084" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4086" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="4090" class="Symbol">)</a>
  <a id="4094" href="Ledger.Gov.html#3875" class="Function">isNewCommittee</a> <a id="4109" class="Symbol">(</a><a id="4110" href="Ledger.GovernanceActions.html#1523" class="InductiveConstructor">NewConstitution</a> <a id="4126" href="Ledger.Gov.html#4126" class="Bound">x</a> <a id="4128" href="Ledger.Gov.html#4128" class="Bound">x₁</a><a id="4130" class="Symbol">)</a>   <a id="4134" class="Symbol">=</a> <a id="4136" href="Ledger.Gov.html#443" class="InductiveConstructor">noᵈ</a> <a id="4140" class="Symbol">λ()</a>
  <a id="4146" href="Ledger.Gov.html#3875" class="Function">isNewCommittee</a> <a id="4161" class="Symbol">(</a><a id="4162" href="Ledger.GovernanceActions.html#1596" class="InductiveConstructor">TriggerHF</a> <a id="4172" href="Ledger.Gov.html#4172" class="Bound">x</a><a id="4173" class="Symbol">)</a>            <a id="4186" class="Symbol">=</a> <a id="4188" href="Ledger.Gov.html#443" class="InductiveConstructor">noᵈ</a> <a id="4192" class="Symbol">λ()</a>
  <a id="4198" href="Ledger.Gov.html#3875" class="Function">isNewCommittee</a> <a id="4213" class="Symbol">(</a><a id="4214" href="Ledger.GovernanceActions.html#1669" class="InductiveConstructor">ChangePParams</a> <a id="4228" href="Ledger.Gov.html#4228" class="Bound">x</a><a id="4229" class="Symbol">)</a>        <a id="4238" class="Symbol">=</a> <a id="4240" href="Ledger.Gov.html#443" class="InductiveConstructor">noᵈ</a> <a id="4244" class="Symbol">λ()</a>
  <a id="4250" href="Ledger.Gov.html#3875" class="Function">isNewCommittee</a> <a id="4265" class="Symbol">(</a><a id="4266" href="Ledger.GovernanceActions.html#1742" class="InductiveConstructor">TreasuryWdrl</a> <a id="4279" href="Ledger.Gov.html#4279" class="Bound">x</a><a id="4280" class="Symbol">)</a>         <a id="4290" class="Symbol">=</a> <a id="4292" href="Ledger.Gov.html#443" class="InductiveConstructor">noᵈ</a> <a id="4296" class="Symbol">λ()</a>
  <a id="4302" href="Ledger.Gov.html#3875" class="Function">isNewCommittee</a> <a id="4317" href="Ledger.GovernanceActions.html#1815" class="InductiveConstructor">Info</a>                     <a id="4342" class="Symbol">=</a> <a id="4344" href="Ledger.Gov.html#443" class="InductiveConstructor">noᵈ</a> <a id="4348" class="Symbol">λ()</a>

<a id="4353" class="Keyword">instance</a>
  <a id="Computational-GOV&#39;"></a><a id="4364" href="Ledger.Gov.html#4364" class="Function">Computational-GOV&#39;</a> <a id="4383" class="Symbol">:</a> <a id="4385" href="Interface.ComputationalRelation.html#627" class="Record">Computational</a> <a id="4399" href="Ledger.Gov.html#1181" class="Datatype Operator">_⊢_⇀⦇_,GOV&#39;⦈_</a>
  <a id="4415" href="Ledger.Gov.html#4364" class="Function">Computational-GOV&#39;</a> <a id="4434" class="Symbol">.</a><a id="4435" href="Interface.ComputationalRelation.html#701" class="Field">computeProof</a> <a id="4448" class="Symbol">(</a><a id="4449" href="Ledger.Gov.html#1002" class="InductiveConstructor Operator">⟦</a> <a id="4451" class="Symbol">_</a> <a id="4453" href="Ledger.Gov.html#1002" class="InductiveConstructor Operator">,</a> <a id="4455" class="Symbol">_</a> <a id="4457" href="Ledger.Gov.html#1002" class="InductiveConstructor Operator">,</a> <a id="4459" href="Ledger.Gov.html#4459" class="Bound">pparams</a> <a id="4467" href="Ledger.Gov.html#1002" class="InductiveConstructor Operator">⟧ᵗ</a> <a id="4470" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4472" href="Ledger.Gov.html#4472" class="Bound">k</a><a id="4473" class="Symbol">)</a> <a id="4475" href="Ledger.Gov.html#4475" class="Bound">s</a> <a id="4477" class="Symbol">(</a><a id="4478" href="Data.Sum.Base.html#666" class="InductiveConstructor">inj₁</a> <a id="4483" class="Keyword">record</a> <a id="4490" class="Symbol">{</a> <a id="4492" href="Ledger.GovernanceActions.html#8557" class="Field">gid</a> <a id="4496" class="Symbol">=</a> <a id="4498" href="Ledger.Gov.html#4498" class="Bound">aid</a> <a id="4502" class="Symbol">;</a> <a id="4504" href="Ledger.GovernanceActions.html#8591" class="Field">role</a> <a id="4509" class="Symbol">=</a> <a id="4511" href="Ledger.Gov.html#4511" class="Bound">role</a> <a id="4516" class="Symbol">})</a> <a id="4519" class="Symbol">=</a>
    <a id="4525" href="Function.Base.html#4053" class="Function Operator">case</a> <a id="4530" href="Ledger.Gov.html#3628" class="Function">lookupActionId</a> <a id="4545" href="Ledger.Gov.html#4459" class="Bound">pparams</a> <a id="4553" href="Ledger.Gov.html#4511" class="Bound">role</a> <a id="4558" href="Ledger.Gov.html#4498" class="Bound">aid</a> <a id="4562" href="Ledger.Gov.html#4475" class="Bound">s</a> <a id="4564" href="Function.Base.html#4053" class="Function Operator">of</a> <a id="4567" class="Symbol">λ</a> <a id="4569" class="Keyword">where</a>
      <a id="4581" class="Symbol">(</a><a id="4582" href="Ledger.Gov.html#431" class="InductiveConstructor">yesᵈ</a> <a id="4587" href="Ledger.Gov.html#4587" class="Bound">p</a><a id="4588" class="Symbol">)</a> <a id="4590" class="Symbol">→</a>
        <a id="4600" href="Function.Base.html#4053" class="Function Operator">case</a> <a id="4605" href="Function.Related.Propositional.html#2180" class="Function">⤖⇒</a> <a id="4608" class="Symbol">(</a><a id="4609" href="Function.Related.html#3746" class="Function">fromRelated</a> <a id="4621" href="Data.List.Membership.Propositional.Properties.Core.html#2748" class="Function">Any↔</a><a id="4625" class="Symbol">)</a> <a id="4627" class="Symbol">.</a><a id="4628" href="Function.Bundles.html#4422" class="Field">from</a> <a id="4633" href="Ledger.Gov.html#4587" class="Bound">p</a> <a id="4635" href="Function.Base.html#4053" class="Function Operator">of</a> <a id="4638" class="Symbol">λ</a> <a id="4640" class="Keyword">where</a>
          <a id="4656" class="Symbol">(_</a> <a id="4659" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4661" href="Ledger.Gov.html#4661" class="Bound">mem</a> <a id="4665" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4667" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="4672" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4674" href="Ledger.Gov.html#4674" class="Bound">cV</a><a id="4676" class="Symbol">)</a> <a id="4678" class="Symbol">→</a> <a id="4680" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="4685" class="Symbol">(_</a> <a id="4688" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4690" href="Ledger.Gov.html#2552" class="InductiveConstructor">GOV-Vote</a> <a id="4699" class="Symbol">(</a><a id="4700" href="Axiom.Set.html#5547" class="Function">∈-fromList</a> <a id="4711" class="Symbol">.</a><a id="4712" href="Function.Bundles.html#4398" class="Field">to</a> <a id="4715" href="Ledger.Gov.html#4661" class="Bound">mem</a><a id="4718" class="Symbol">)</a> <a id="4720" href="Ledger.Gov.html#4674" class="Bound">cV</a><a id="4722" class="Symbol">)</a>
      <a id="4730" class="Symbol">(</a><a id="4731" href="Ledger.Gov.html#443" class="InductiveConstructor">noᵈ</a> <a id="4735" class="Symbol">_)</a>  <a id="4739" class="Symbol">→</a> <a id="4741" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a>
  <a id="4751" href="Ledger.Gov.html#4364" class="Function">Computational-GOV&#39;</a> <a id="4770" class="Symbol">.</a><a id="4771" href="Interface.ComputationalRelation.html#701" class="Field">computeProof</a> <a id="4784" class="Symbol">(</a><a id="4785" href="Ledger.Gov.html#1002" class="InductiveConstructor Operator">⟦</a> <a id="4787" class="Symbol">_</a> <a id="4789" href="Ledger.Gov.html#1002" class="InductiveConstructor Operator">,</a> <a id="4791" href="Ledger.Gov.html#4791" class="Bound">epoch</a> <a id="4797" href="Ledger.Gov.html#1002" class="InductiveConstructor Operator">,</a> <a id="4799" href="Ledger.Gov.html#4799" class="Bound">pparams</a> <a id="4807" href="Ledger.Gov.html#1002" class="InductiveConstructor Operator">⟧ᵗ</a> <a id="4810" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4812" href="Ledger.Gov.html#4812" class="Bound">k</a><a id="4813" class="Symbol">)</a> <a id="4815" href="Ledger.Gov.html#4815" class="Bound">s</a> <a id="4817" class="Symbol">(</a><a id="4818" href="Data.Sum.Base.html#691" class="InductiveConstructor">inj₂</a> <a id="4823" class="Keyword">record</a> <a id="4830" class="Symbol">{</a> <a id="4832" href="Ledger.GovernanceActions.html#8778" class="Field">action</a> <a id="4839" class="Symbol">=</a> <a id="4841" href="Ledger.Gov.html#4841" class="Bound">a</a> <a id="4843" class="Symbol">;</a> <a id="4845" href="Ledger.GovernanceActions.html#8849" class="Field">deposit</a> <a id="4853" class="Symbol">=</a> <a id="4855" href="Ledger.Gov.html#4855" class="Bound">d</a> <a id="4857" class="Symbol">})</a> <a id="4860" class="Symbol">=</a>
    <a id="4866" href="Function.Base.html#4053" class="Function Operator">case</a> <a id="4871" href="Interface.Decidable.Instance.html#1079" class="Function Operator">¿</a> <a id="4873" href="Ledger.GovernanceActions.html#1887" class="Function">actionWellFormed</a> <a id="4890" href="Ledger.Gov.html#4841" class="Bound">a</a> <a id="4892" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="4894" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a> <a id="4899" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="4901" href="Ledger.Gov.html#4855" class="Bound">d</a> <a id="4903" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="4905" href="Ledger.Gov.html#4799" class="Bound">pparams</a> <a id="4913" class="Symbol">.</a><a id="4914" href="Ledger.PParams.html#2164" class="Field">PParams.govActionDeposit</a> <a id="4939" href="Interface.Decidable.Instance.html#1079" class="Function Operator">¿</a>
         <a id="4950" href="Data.Product.Base.html#1177" class="Function Operator">,′</a> <a id="4953" href="Ledger.Gov.html#3875" class="Function">isNewCommittee</a> <a id="4968" href="Ledger.Gov.html#4841" class="Bound">a</a> <a id="4970" href="Function.Base.html#4053" class="Function Operator">of</a> <a id="4973" class="Symbol">λ</a> <a id="4975" class="Keyword">where</a>
      <a id="4987" class="Symbol">(</a><a id="4988" href="Ledger.Gov.html#431" class="InductiveConstructor">yesᵈ</a> <a id="4993" class="Symbol">(</a><a id="4994" href="Ledger.Gov.html#4994" class="Bound">wf</a> <a id="4997" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4999" href="Ledger.Gov.html#4999" class="Bound">dep</a><a id="5002" class="Symbol">)</a> <a id="5004" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5006" href="Ledger.Gov.html#431" class="InductiveConstructor">yesᵈ</a> <a id="5011" class="Symbol">(</a><a id="5012" href="Ledger.Gov.html#5012" class="Bound">new</a> <a id="5016" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5018" href="Ledger.Gov.html#5018" class="Bound">rem</a> <a id="5022" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5024" href="Ledger.Gov.html#5024" class="Bound">q</a> <a id="5026" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5028" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="5032" class="Symbol">))</a> <a id="5035" class="Symbol">→</a>
        <a id="5045" href="Function.Base.html#4053" class="Function Operator">case</a> <a id="5050" href="Interface.Decidable.Instance.html#1079" class="Function Operator">¿</a> <a id="5052" href="Interface.IsSet.html#611" class="Function">∀[</a> <a id="5055" href="Ledger.Gov.html#5055" class="Bound">e</a> <a id="5057" href="Interface.IsSet.html#611" class="Function">∈</a> <a id="5059" href="Interface.IsSet.html#837" class="Function">range</a> <a id="5065" href="Ledger.Gov.html#5012" class="Bound">new</a> <a id="5069" href="Interface.IsSet.html#611" class="Function">]</a> <a id="5071" href="Ledger.Gov.html#4791" class="Bound">epoch</a> <a id="5077" href="Interface.HasOrder.html#297" class="Field Operator">&lt;</a> <a id="5079" href="Ledger.Gov.html#5055" class="Bound">e</a> <a id="5081" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="5083" href="Interface.IsSet.html#794" class="Function">dom</a> <a id="5087" href="Ledger.Gov.html#5012" class="Bound">new</a> <a id="5091" href="Axiom.Set.html#9060" class="Function Operator">∩</a> <a id="5093" href="Ledger.Gov.html#5018" class="Bound">rem</a> <a id="5097" href="Axiom.Set.html#2471" class="Function Operator">≡ᵉ</a> <a id="5100" href="Axiom.Set.html#5746" class="Function">∅</a> <a id="5102" href="Interface.Decidable.Instance.html#1079" class="Function Operator">¿</a> <a id="5104" href="Function.Base.html#4053" class="Function Operator">of</a> <a id="5107" class="Symbol">λ</a> <a id="5109" class="Keyword">where</a>
          <a id="5125" class="Symbol">(</a><a id="5126" href="Ledger.Gov.html#431" class="InductiveConstructor">yesᵈ</a> <a id="5131" href="Ledger.Gov.html#5131" class="Bound">newOk</a><a id="5136" class="Symbol">)</a> <a id="5138" class="Symbol">→</a> <a id="5140" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="5145" class="Symbol">(_</a> <a id="5148" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5150" href="Ledger.Gov.html#2888" class="InductiveConstructor">GOV-Propose</a> <a id="5162" href="Ledger.Gov.html#4994" class="Bound">wf</a> <a id="5165" href="Ledger.Gov.html#4999" class="Bound">dep</a> <a id="5169" class="Symbol">λ</a> <a id="5171" class="Keyword">where</a> <a id="5177" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="5182" class="Symbol">→</a> <a id="5184" href="Ledger.Gov.html#5131" class="Bound">newOk</a><a id="5189" class="Symbol">)</a>
          <a id="5201" class="Symbol">(</a><a id="5202" href="Ledger.Gov.html#443" class="InductiveConstructor">noᵈ</a> <a id="5206" class="Symbol">_)</a>      <a id="5214" class="Symbol">→</a> <a id="5216" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a>
      <a id="5230" class="Symbol">(</a><a id="5231" href="Ledger.Gov.html#431" class="InductiveConstructor">yesᵈ</a> <a id="5236" class="Symbol">(</a><a id="5237" href="Ledger.Gov.html#5237" class="Bound">wf</a> <a id="5240" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5242" href="Ledger.Gov.html#5242" class="Bound">dep</a><a id="5245" class="Symbol">)</a> <a id="5247" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5249" href="Ledger.Gov.html#443" class="InductiveConstructor">noᵈ</a> <a id="5253" href="Ledger.Gov.html#5253" class="Bound">notNewComm</a><a id="5263" class="Symbol">)</a> <a id="5265" class="Symbol">→</a> <a id="5267" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="5272" class="Symbol">(_</a> <a id="5275" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5277" href="Ledger.Gov.html#2888" class="InductiveConstructor">GOV-Propose</a> <a id="5289" href="Ledger.Gov.html#5237" class="Bound">wf</a> <a id="5292" href="Ledger.Gov.html#5242" class="Bound">dep</a> <a id="5296" class="Symbol">λ</a> <a id="5298" href="Ledger.Gov.html#5298" class="Bound">isNewComm</a> <a id="5308" class="Symbol">→</a> <a id="5310" href="Data.Empty.html#1041" class="Function">⊥-elim</a> <a id="5317" class="Symbol">(</a><a id="5318" href="Ledger.Gov.html#5253" class="Bound">notNewComm</a> <a id="5329" class="Symbol">(_</a> <a id="5332" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5334" class="Symbol">_</a> <a id="5336" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5338" class="Symbol">_</a> <a id="5340" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5342" href="Ledger.Gov.html#5298" class="Bound">isNewComm</a><a id="5351" class="Symbol">)))</a>
      <a id="5361" class="CatchallClause Symbol">_</a> <a id="5363" class="Symbol">→</a> <a id="5365" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a>
  <a id="5375" href="Ledger.Gov.html#4364" class="Function">Computational-GOV&#39;</a> <a id="5394" class="Symbol">.</a><a id="5395" href="Interface.ComputationalRelation.html#884" class="Field">completeness</a> <a id="5408" class="Symbol">(</a><a id="5409" href="Ledger.Gov.html#1002" class="InductiveConstructor Operator">⟦</a> <a id="5411" class="Symbol">_</a> <a id="5413" href="Ledger.Gov.html#1002" class="InductiveConstructor Operator">,</a> <a id="5415" class="Symbol">_</a> <a id="5417" href="Ledger.Gov.html#1002" class="InductiveConstructor Operator">,</a> <a id="5419" href="Ledger.Gov.html#5419" class="Bound">pparams</a> <a id="5427" href="Ledger.Gov.html#1002" class="InductiveConstructor Operator">⟧ᵗ</a> <a id="5430" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5432" href="Ledger.Gov.html#5432" class="Bound">k</a><a id="5433" class="Symbol">)</a> <a id="5435" href="Ledger.Gov.html#5435" class="Bound">s</a> <a id="5437" class="Symbol">(</a><a id="5438" href="Data.Sum.Base.html#666" class="InductiveConstructor">inj₁</a> <a id="5443" class="Keyword">record</a> <a id="5450" class="Symbol">{</a> <a id="5452" href="Ledger.GovernanceActions.html#8557" class="Field">gid</a> <a id="5456" class="Symbol">=</a> <a id="5458" href="Ledger.Gov.html#5458" class="Bound">aid</a> <a id="5462" class="Symbol">;</a> <a id="5464" href="Ledger.GovernanceActions.html#8591" class="Field">role</a> <a id="5469" class="Symbol">=</a> <a id="5471" href="Ledger.Gov.html#5471" class="Bound">role</a> <a id="5476" class="Symbol">})</a> <a id="5479" href="Ledger.Gov.html#5479" class="Bound">s&#39;</a> <a id="5482" class="Symbol">(</a><a id="5483" href="Ledger.Gov.html#2552" class="InductiveConstructor">GOV-Vote</a> <a id="5492" href="Ledger.Gov.html#5492" class="Bound">mem</a> <a id="5496" href="Ledger.Gov.html#5496" class="Bound">cV</a><a id="5498" class="Symbol">)</a>
    <a id="5504" class="Keyword">with</a> <a id="5509" href="Ledger.Gov.html#3628" class="Function">lookupActionId</a> <a id="5524" href="Ledger.Gov.html#5419" class="Bound">pparams</a> <a id="5532" href="Ledger.Gov.html#5471" class="Bound">role</a> <a id="5537" href="Ledger.Gov.html#5458" class="Bound">aid</a> <a id="5541" href="Ledger.Gov.html#5435" class="Bound">s</a> <a id="5543" class="Symbol">|</a> <a id="5545" class="String">&quot;agda#6868&quot;</a>
  <a id="5559" class="Symbol">...</a> <a id="5563" class="Symbol">|</a> <a id="5565" href="Ledger.Gov.html#443" class="InductiveConstructor">noᵈ</a> <a id="5569" href="Ledger.Gov.html#5569" class="Bound">¬p</a> <a id="5572" class="Symbol">|</a> <a id="5574" class="Symbol">_</a> <a id="5576" class="Symbol">=</a> <a id="5578" href="Data.Empty.html#1041" class="Function">⊥-elim</a> <a id="5585" class="Symbol">(</a><a id="5586" href="Ledger.Gov.html#5569" class="Bound">¬p</a> <a id="5589" class="Symbol">(</a><a id="5590" href="Function.Related.Propositional.html#2180" class="Function">⤖⇒</a> <a id="5593" class="Symbol">(</a><a id="5594" href="Function.Related.html#3746" class="Function">fromRelated</a> <a id="5606" href="Data.List.Membership.Propositional.Properties.Core.html#2748" class="Function">Any↔</a><a id="5610" class="Symbol">)</a> <a id="5612" class="Symbol">.</a><a id="5613" href="Function.Bundles.html#4398" class="Field">to</a> <a id="5616" class="Symbol">(_</a> <a id="5619" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5621" href="Axiom.Set.html#5547" class="Function">∈-fromList</a> <a id="5632" class="Symbol">.</a><a id="5633" href="Function.Bundles.html#4422" class="Field">from</a> <a id="5638" class="Bound">mem</a> <a id="5642" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5644" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="5649" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5651" class="Bound">cV</a><a id="5653" class="Symbol">)))</a>
  <a id="5659" class="Symbol">...</a> <a id="5663" class="Symbol">|</a> <a id="5665" href="Ledger.Gov.html#431" class="InductiveConstructor">yesᵈ</a> <a id="5670" href="Ledger.Gov.html#5670" class="Bound">p</a> <a id="5672" class="Symbol">|</a> <a id="5674" class="Symbol">_</a> <a id="5676" class="Keyword">with</a> <a id="5681" href="Function.Related.Propositional.html#2180" class="Function">⤖⇒</a> <a id="5684" class="Symbol">(</a><a id="5685" href="Function.Related.html#3746" class="Function">fromRelated</a> <a id="5697" href="Data.List.Membership.Propositional.Properties.Core.html#2748" class="Function">Any↔</a><a id="5701" class="Symbol">)</a> <a id="5703" class="Symbol">.</a><a id="5704" href="Function.Bundles.html#4422" class="Field">from</a> <a id="5709" href="Ledger.Gov.html#5670" class="Bound">p</a>
  <a id="5713" class="Symbol">...</a>   <a id="5719" class="Symbol">|</a> <a id="5721" class="Symbol">(_</a> <a id="5724" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5726" href="Ledger.Gov.html#5726" class="Bound">mem</a> <a id="5730" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5732" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="5737" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5739" href="Ledger.Gov.html#5739" class="Bound">cV</a><a id="5741" class="Symbol">)</a> <a id="5743" class="Symbol">=</a> <a id="5745" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="5752" href="Ledger.Gov.html#4364" class="Function">Computational-GOV&#39;</a> <a id="5771" class="Symbol">.</a><a id="5772" href="Interface.ComputationalRelation.html#884" class="Field">completeness</a> <a id="5785" class="Symbol">(</a><a id="5786" href="Ledger.Gov.html#1002" class="InductiveConstructor Operator">⟦</a> <a id="5788" class="Symbol">_</a> <a id="5790" href="Ledger.Gov.html#1002" class="InductiveConstructor Operator">,</a> <a id="5792" href="Ledger.Gov.html#5792" class="Bound">epoch</a> <a id="5798" href="Ledger.Gov.html#1002" class="InductiveConstructor Operator">,</a> <a id="5800" href="Ledger.Gov.html#5800" class="Bound">pparams</a> <a id="5808" href="Ledger.Gov.html#1002" class="InductiveConstructor Operator">⟧ᵗ</a> <a id="5811" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5813" href="Ledger.Gov.html#5813" class="Bound">k</a><a id="5814" class="Symbol">)</a> <a id="5816" href="Ledger.Gov.html#5816" class="Bound">s</a> <a id="5818" class="Symbol">(</a><a id="5819" href="Data.Sum.Base.html#691" class="InductiveConstructor">inj₂</a> <a id="5824" class="Keyword">record</a> <a id="5831" class="Symbol">{</a> <a id="5833" href="Ledger.GovernanceActions.html#8778" class="Field">action</a> <a id="5840" class="Symbol">=</a> <a id="5842" href="Ledger.Gov.html#5842" class="Bound">a</a> <a id="5844" class="Symbol">;</a> <a id="5846" href="Ledger.GovernanceActions.html#8849" class="Field">deposit</a> <a id="5854" class="Symbol">=</a> <a id="5856" href="Ledger.Gov.html#5856" class="Bound">d</a> <a id="5858" class="Symbol">})</a> <a id="5861" href="Ledger.Gov.html#5861" class="Bound">s&#39;</a> <a id="5864" class="Symbol">(</a><a id="5865" href="Ledger.Gov.html#2888" class="InductiveConstructor">GOV-Propose</a> <a id="5877" href="Ledger.Gov.html#5877" class="Bound">wf</a> <a id="5880" href="Ledger.Gov.html#5880" class="Bound">dep</a> <a id="5884" href="Ledger.Gov.html#5884" class="Bound">newOk</a><a id="5889" class="Symbol">)</a>
    <a id="5895" class="Keyword">with</a> <a id="5900" href="Interface.Decidable.Instance.html#1079" class="Function Operator">¿</a> <a id="5902" href="Ledger.GovernanceActions.html#1887" class="Function">actionWellFormed</a> <a id="5919" href="Ledger.Gov.html#5842" class="Bound">a</a> <a id="5921" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="5923" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a> <a id="5928" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="5930" href="Ledger.Gov.html#5856" class="Bound">d</a> <a id="5932" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="5934" href="Ledger.Gov.html#5800" class="Bound">pparams</a> <a id="5942" class="Symbol">.</a><a id="5943" href="Ledger.PParams.html#2164" class="Field">PParams.govActionDeposit</a> <a id="5968" href="Interface.Decidable.Instance.html#1079" class="Function Operator">¿</a> <a id="5970" class="Symbol">|</a> <a id="5972" href="Ledger.Gov.html#3875" class="Function">isNewCommittee</a> <a id="5987" href="Ledger.Gov.html#5842" class="Bound">a</a>
  <a id="5991" class="Symbol">...</a> <a id="5995" class="Symbol">|</a> <a id="5997" href="Ledger.Gov.html#443" class="InductiveConstructor">noᵈ</a> <a id="6001" href="Ledger.Gov.html#6001" class="Bound">¬p</a> <a id="6004" class="Symbol">|</a> <a id="6006" class="Symbol">_</a> <a id="6008" class="Symbol">=</a> <a id="6010" href="Data.Empty.html#1041" class="Function">⊥-elim</a> <a id="6017" class="Symbol">(</a><a id="6018" href="Ledger.Gov.html#6001" class="Bound">¬p</a> <a id="6021" class="Symbol">(</a><a id="6022" class="Bound">wf</a> <a id="6025" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6027" class="Bound">dep</a><a id="6030" class="Symbol">))</a>
  <a id="6035" class="Symbol">...</a> <a id="6039" class="Symbol">|</a> <a id="6041" href="Ledger.Gov.html#431" class="InductiveConstructor">yesᵈ</a> <a id="6046" class="Symbol">_</a> <a id="6048" class="Symbol">|</a> <a id="6050" href="Ledger.Gov.html#443" class="InductiveConstructor">noᵈ</a> <a id="6054" href="Ledger.Gov.html#6054" class="Bound">notNewComm</a> <a id="6065" class="Symbol">=</a> <a id="6067" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="6074" class="Symbol">...</a> <a id="6078" class="Symbol">|</a> <a id="6080" href="Ledger.Gov.html#431" class="InductiveConstructor">yesᵈ</a> <a id="6085" class="Symbol">_</a> <a id="6087" class="Symbol">|</a> <a id="6089" href="Ledger.Gov.html#431" class="InductiveConstructor">yesᵈ</a> <a id="6094" class="Symbol">(</a><a id="6095" href="Ledger.Gov.html#6095" class="Bound">new</a> <a id="6099" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6101" href="Ledger.Gov.html#6101" class="Bound">rem</a> <a id="6105" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6107" href="Ledger.Gov.html#6107" class="Bound">q</a> <a id="6109" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6111" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="6115" class="Symbol">)</a>
    <a id="6121" class="Keyword">rewrite</a> <a id="6129" href="Relation.Nullary.Decidable.html#2677" class="Function">dec-yes</a> <a id="6137" href="Interface.Decidable.Instance.html#1079" class="Function Operator">¿</a> <a id="6139" href="Interface.IsSet.html#611" class="Function">∀[</a> <a id="6142" href="Ledger.Gov.html#6142" class="Bound">e</a> <a id="6144" href="Interface.IsSet.html#611" class="Function">∈</a> <a id="6146" href="Interface.IsSet.html#837" class="Function">range</a> <a id="6152" href="Ledger.Gov.html#6095" class="Bound">new</a> <a id="6156" href="Interface.IsSet.html#611" class="Function">]</a> <a id="6158" class="Bound">epoch</a> <a id="6164" href="Interface.HasOrder.html#297" class="Field Operator">&lt;</a> <a id="6166" href="Ledger.Gov.html#6142" class="Bound">e</a> <a id="6168" href="Data.Product.Base.html#1109" class="Function Operator">×</a> <a id="6170" href="Interface.IsSet.html#794" class="Function">dom</a> <a id="6174" href="Ledger.Gov.html#6095" class="Bound">new</a> <a id="6178" href="Axiom.Set.html#9060" class="Function Operator">∩</a> <a id="6180" href="Ledger.Gov.html#6101" class="Bound">rem</a> <a id="6184" href="Axiom.Set.html#2471" class="Function Operator">≡ᵉ</a> <a id="6187" href="Axiom.Set.html#5746" class="Function">∅</a> <a id="6189" href="Interface.Decidable.Instance.html#1079" class="Function Operator">¿</a> <a id="6191" class="Symbol">(</a><a id="6192" class="Bound">newOk</a> <a id="6198" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="6202" class="Symbol">)</a> <a id="6204" class="Symbol">.</a><a id="6205" href="Data.Product.Base.html#622" class="Field">proj₂</a> <a id="6211" class="Symbol">=</a> <a id="6213" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

<a id="Computational-GOV"></a><a id="6219" href="Ledger.Gov.html#6219" class="Function">Computational-GOV</a> <a id="6237" class="Symbol">:</a> <a id="6239" href="Interface.ComputationalRelation.html#627" class="Record">Computational</a> <a id="6253" href="Ledger.Gov.html#1261" class="Function Operator">_⊢_⇀⦇_,GOV⦈_</a>
<a id="6266" href="Ledger.Gov.html#6219" class="Function">Computational-GOV</a> <a id="6284" class="Symbol">=</a> <a id="6286" href="Function.Base.html#4744" class="Function">it</a>
<a id="6289" class="Markup">\end{code}</a><a id="6299" class="Background">
</a></pre></body></html>